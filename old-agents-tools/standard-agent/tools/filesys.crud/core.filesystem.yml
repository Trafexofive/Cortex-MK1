# config/tools/core.unrestricted_filesystem.yml
# Unrestricted Filesystem operations tool for the Chimera Ecosystem.
# Allows direct use of relative or absolute paths. USE WITH CAUTION.
FilesystemTools:
  UnrestrictedFilesystemManager: # New manager name
    name: "filesystem_unrestricted" # New tool name
    description: >
      Manages files and directories using provided paths (relative or absolute).
      WARNING: This tool does not enforce a workspace boundary. The agent is responsible
      for all path safety and correctness.
      Operations:
      - create_file: Creates a new file, optionally with content and overwrite flag.
      - read_file: Reads the content of a file.
      - update_file: Writes or appends content to a file. Creates if not exists.
      - delete_file: Deletes a file.
      - create_directory: Creates a directory, optionally creating parent directories.
      - list_directory: Lists files and directories within a specified path.
      - delete_directory: Deletes a directory, with a recursive option.
      - move_item: Moves/renames a file or directory.
      - copy_item: Copies a file or directory (recursively for directories).
      - item_exists: Checks if a file or directory exists at the given path.
      - get_item_info: Retrieves detailed information about a file or directory.
    type: "script"
    runtime: "python3"
    path: "./scripts/filesystem_tool.py" # Path to the new Python script
    parameters_schema:
      type: "object"
      properties:
        operation:
          type: "string"
          enum: [
            "create_file", "read_file", "update_file", "delete_file",
            "create_directory", "list_directory", "delete_directory",
            "move_item", "copy_item", "item_exists", "get_item_info"
          ]
          description: "The filesystem operation to perform."
        path:
          type: "string"
          description: "Path for the operation (relative or absolute). (Used by create_file, read_file, update_file, delete_file, create_directory, list_directory, delete_directory, item_exists, get_item_info)"
        content:
          type: "string"
          description: "Content for the file. (For create_file, update_file)"
        overwrite:
          type: "boolean"
          default: false
          description: "If true, overwrite file if it exists. (For create_file)"
        append:
          type: "boolean"
          default: false
          description: "If true, append content to file; otherwise, overwrite. (For update_file)"
        parents:
          type: "boolean"
          default: true
          description: "If true, create parent directories if they don't exist. (For create_directory)"
        recursive:
          type: "boolean"
          default: false
          description: "If true, delete directory and its contents recursively. (For delete_directory)"
        source_path:
          type: "string"
          description: "Source path for move/copy operations (relative or absolute)."
        destination_path:
          type: "string"
          description: "Destination path for move/copy operations (relative or absolute)."
      required: ["operation"] # Only operation is top-level required; specific params like 'path' are validated by script per op
    example_usage:
      # Example for create_file
      - operation: "create_file"
        path: "./agent_notes/summary.txt" # Agent uses relative path
        content: "Direct file creation."
        overwrite: true
      # Example for read_file with absolute path
      - operation: "read_file"
        path: "/tmp/important_data.log" # Agent uses absolute path
      # Example for list_directory
      - operation: "list_directory"
        path: "." # List current working directory of the agent process
      # Example for item_exists
      - operation: "item_exists"
        path: "my_folder/another_file.md"
      # Example for move_item
      - operation: "move_item"
        source_path: "old_reports/jan.doc"
        destination_path: "/mnt/archive/reports/2024_jan.doc"
