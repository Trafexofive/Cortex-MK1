webTools:
  ToolName:
    name: "web_search_tool"
    description: >
      A comprehensive web search tool that performs searches, fetches content from websites,
      and allows for aggregating and managing sources through collections. Results can be
      exported to and imported from JSON files for sharing and reuse.
      
      ⚠️ SAFETY CONSIDERATIONS ⚠️
      - Respects rate limiting to prevent IP blocking
      - All URLs are validated before requests
      - Content is sanitized before returning
      - Search results are cached to reduce network load
      - File operations are limited to the configured directories
      
      Operations:
      - search: Performs a web search with the given query
      - fetch: Fetches content from a specific URL
      - clear_cache: Clears the search cache
      - get_stats: Returns usage statistics
      - create_collection: Creates a new source collection
      - list_collections: Lists all available collections
      - get_collection: Retrieves a specific collection
      - add_to_collection: Adds a source to a collection
      - aggregate_sources: Searches and adds results to a new collection
      - export_sources: Exports a collection to a JSON file
      - import_sources: Imports a collection from a JSON file
      - delete_collection: Deletes a collection
    
    type: "script"
    runtime: "python3"
    path: "./scripts/web_search_tool.py"
    parameters_schema:
      type: "object"
      properties:
        operation:
          type: "string"
          enum: [
            "search",
            "fetch",
            "clear_cache",
            "get_stats",
            "create_collection",
            "list_collections",
            "get_collection",
            "add_to_collection",
            "aggregate_sources",
            "export_sources",
            "import_sources",
            "delete_collection"
          ]
          description: "Operation to perform"
        query:
          type: "string"
          description: "Search query (required for search and aggregate_sources operations)"
        url:
          type: "string"
          description: "URL to fetch content from (required for fetch operation)"
        limit:
          type: "integer"
          description: "Maximum number of results to return"
          default: 10
          minimum: 1
          maximum: 20
        timeout:
          type: "integer"
          description: "Request timeout in seconds"
          default: 10
          minimum: 1
          maximum: 30
        engine:
          type: "string"
          enum: ["duckduckgo", "searx", "auto"]
          description: "Search engine preference"
          default: "auto"
        collection_id:
          type: "string"
          description: "ID of the collection (for collection operations)"
        collection_name:
          type: "string"
          description: "Name for a new collection"
        name:
          type: "string"
          description: "Name for a new collection"
        description:
          type: "string"
          description: "Description for a new collection"
        source:
          type: "object"
          description: "Source data to add to a collection"
        file_path:
          type: "string"
          description: "Path to a JSON file for import/export operations"
        output_path:
          type: "string"
          description: "Output path for exported collection"
        new_name:
          type: "string"
          description: "New name for an imported collection"
        fetch_content:
          type: "boolean"
          description: "Whether to fetch full content when aggregating sources"
          default: false
      required: ["operation"]
    example_usage:
      - name: "Perform a web search"
        description: "Search the web for information about climate change"
        parameters:
          operation: "search"
          query: "climate change solutions"
          limit: 5
          engine: "duckduckgo"
      - name: "Aggregate sources on a topic"
        description: "Search and create a collection of sources about AI ethics"
        parameters:
          operation: "aggregate_sources"
          query: "artificial intelligence ethics"
          collection_name: "AI Ethics Research"
          limit: 10
          fetch_content: true
      - name: "Export sources to JSON file"
        description: "Export a collection of sources to a JSON file"
        parameters:
          operation: "export_sources"
          collection_id: "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d"
          output_path: "./exports/ai_ethics_sources.json"
      - name: "Import sources from JSON file"
        description: "Import sources from a previously exported JSON file"
        parameters:
          operation: "import_sources"
          file_path: "./exports/ai_ethics_sources.json"
          new_name: "Imported AI Ethics Research"
